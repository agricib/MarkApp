var Q;(function(t){function e(t,e){return ss.coalesce(t,e)}t.coalesce=e;function n(t){return ss.isValue(t)}t.isValue=n;function r(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}var i,a,o,s,l,u,f=arguments[0]||{},c=1,d=arguments.length;if(typeof f!=="object"&&!$.isFunction(f)){f={}}if(c===d){f={};c=0}for(;c<d;c++){if((i=arguments[c])!==null){if($.isArray(i)){f=$.extend(true,[],i)}else{for(a in i){o=f[a];s=i[a];if(f===s){continue}if(s&&($.isPlainObject(s)||(l=$.isArray(s)))){if(l){l=false;u=o&&$.isArray(o)?o:[]}else{u=o&&$.isPlainObject(o)?o:{}}f[a]=r(u,s)}else if(s!==undefined){f[a]=s}}}}}return f}t.deepClone=r})(Q||(Q={}));var Q;(function(t){function e(t){return ss.arrayClone(t)}t.arrayClone=e;function n(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(e(i))return true}return false}t.any=n;function r(t,e){var n=0;for(var r=0,i=t;r<i.length;r++){var a=i[r];if(e(a))n++}return n}t.count=r;function i(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(e(i))return i}throw new Error("first:No element satisfies the condition.!")}t.first=i;function a(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}t.indexOf=a;function o(t,e,n){ss.insert(t,e,n)}t.insert=o;function s(t){return ss.isArray(t)}t.isArray=s;function l(t,e){var n;var r=false;for(var i=0,a=t;i<a.length;i++){var o=a[i];if(e(o)){if(r)throw new Error("single:sequence contains more than one element.");r=true;n=o}}if(!r)throw new Error("single:No element satisfies the condition.");return n}t.single=l;function u(t,e){var n={};for(var r=0,i=t;r<i.length;r++){var a=i[r];var o=e(a)||"";var s=n[o];if(!s){s=n[o]=[]}s.push(a)}return n}t.toGrouping=u;function f(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(e(i))return i}}t.tryFirst=f})(Q||(Q={}));var Q;(function(t){function e(t,e){return ss.endsWithString(t,e)}t.endsWith=e;function n(t){return t==null||t.length===0}t.isEmptyOrNull=n;function r(t){return f(t)==null}t.isTrimmedEmpty=r;function i(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}return(r=ss).formatString.apply(r,[t].concat(e));var r}t.format=i;function a(t,e,n){if(n===void 0){n=" "}while(t.length<e)t="0"+t;return t}t.padLeft=a;function o(t,e){return ss.startsWithString(t,e)}t.startsWith=o;function s(e){return t.replaceAll(t.replaceAll(u(e),"\r\n"," "),"\n"," ").trim()}t.toSingleLine=s;function l(t){return(t==null?"":t).replace(new RegExp("^\\s+|\\s+$","g"),"")}t.trim=l;function u(t){if(t==null||t.length===0){return""}return l(t)}t.trimToEmpty=u;function f(t){if(t==null||t.length===0){return null}t=l(t);if(t.length===0){return null}else{return t}}t.trimToNull=f;var c;function d(t,e){var n="AaBbCcÇçFfGgĞğHhIıİiJjKkLlMmNnOoÖöPpRrSsŞşTtUuÜüVvYyZz";t=t||"";e=e||"";if(t==e)return 0;if(!c){c={};for(var r=0;r<n.length;r++){c[n.charAt(r)]=r+1}}for(var i=0,a=Math.min(t.length,e.length);i<a;i++){var o=t.charAt(i),s=e.charAt(i);if(o===s)continue;var l=c[o],u=c[s];if(l!=null&&u!=null)return l<u?-1:1;var f=o.localeCompare(s);if(f==0)continue;return f}return t.localeCompare(e)}t.turkishLocaleCompare=d;function g(t){if(!t)return t;return t.replace(/i/g,"İ").replace(/ı/g,"I").toUpperCase()}t.turkishLocaleToUpper=g;function p(t,e,n){return ss.replaceAllString(t,e,n)}t.replaceAll=p;function v(t,e){var n=t.toString();while(n.length<e)n="0"+n;return n}t.zeroPad=v})(Q||(Q={}));var Q;(function(t){var e;(function(e){e.decimalSeparator=".";e.dateSeparator="/";e.dateOrder="dmy";e.dateFormat="dd/MM/yyyy";e.dateTimeFormat="dd/MM/yyyy HH:mm:ss";function n(){return e.decimalSeparator===","?".":","}e.get_groupSeperator=n;var r=t.trimToNull($("script#ScriptCulture").html());if(r!=null){var i=$.parseJSON(r);if(i.DecimalSeparator!=null)e.decimalSeparator=i.DecimalSeparator;if(i.DateSeparator!=null)e.dateSeparator=i.DateSeparator;if(i.DateOrder!=null)e.dateOrder=i.DateOrder;if(i.DateFormat!=null)e.dateFormat=i.DateFormat;if(i.DateTimeFormat!=null)e.dateTimeFormat=i.DateTimeFormat}})(e=t.Culture||(t.Culture={}))})(Q||(Q={}));var Q;(function(t){function e(e,n,r,i){var o="-";if(isNaN(e)){return null}r=r||t.Culture.decimalSeparator;i=i||t.Culture.get_groupSeperator();var s="";if(n.indexOf(".")>-1){var l=r;var u=n.substring(n.lastIndexOf(".")+1);e=a(e,u.length);var f=e%1;var c=new String(f.toFixed(u.length));c=c.substring(c.lastIndexOf(".")+1);for(var d=0;d<u.length;d++){if(u.charAt(d)=="#"&&c.charAt(d)!="0"){l+=c.charAt(d);continue}else if(u.charAt(d)=="#"&&c.charAt(d)=="0"){var g=c.substring(d);if(g.match("[1-9]")){l+=c.charAt(d);continue}else break}else if(u.charAt(d)=="0")l+=c.charAt(d);else l+=u.charAt(d)}s+=l}else e=Math.round(e);var p=Math.floor(e);if(e<0)p=Math.ceil(e);var v="";if(n.indexOf(".")==-1)v=n;else v=n.substring(0,n.indexOf("."));var h="";if(!(p==0&&v.substr(v.length-1)=="#")){var m=new String(Math.abs(p));var y=9999;if(v.lastIndexOf(",")!=-1)y=v.length-v.lastIndexOf(",")-1;var w=0;for(var d=m.length-1;d>-1;d--){h=m.charAt(d)+h;w++;if(w==y&&d!=0){h=i+h;w=0}}if(v.length>h.length){var b=v.indexOf("0");if(b!=-1){var _=v.length-b;var $=v.length-h.length-1;while(h.length<_){var x=v.charAt($);if(x==",")x=i;h=x+h;$--}}}}if(!h&&v.indexOf("0",v.length-1)!==-1)h="0";s=h+s;if(e<0)s=o+s;if(s.lastIndexOf(r)==s.length-1){s=s.substring(0,s.length-1)}return s}t.formatNumber=e;var n=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;function r(e){e=t.trim(e.toString());var n=t.Culture.get_groupSeperator();if(e&&e.length&&e.indexOf(n)>0){e=e.replace(new RegExp("(\\b\\d{1,3})\\"+n+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!/^[-\+]?\d+$/.test(e))return NaN;return parseInt(e,10)}t.parseInteger=r;function i(e){if(e==null)return null;e=t.trim(e.toString());if(e.length==0)return null;var n=t.Culture.get_groupSeperator();if(e&&e.length&&e.indexOf(n)>0){e=e.replace(new RegExp("(\\b\\d{1,3})\\"+n+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!new RegExp("^\\s*([-\\+])?(\\d*)\\"+t.Culture.decimalSeparator+"?(\\d*)\\s*$").test(e))return NaN;return parseFloat(e.toString().replace(t.Culture.decimalSeparator,"."))}t.parseDecimal=i;function a(t,e){var n=Math.pow(10,e||0);var r=(Math.round(t*n)/n).toString();if(e>0){var i=r.indexOf(".");if(i==-1){r+=".";i=0}else{i=r.length-(i+1)}while(i<e){r+="0";i++}}return parseFloat(r)}function o(t){if(t==null)return null;if(typeof t=="number")return t;t=$.trim(t);if(t==null||!t.length)return null;if(t.length>=15||!/^\d+$/.test(t))return t;var e=parseInt(t,10);if(isNaN(e))return t;return e}t.toId=o})(Q||(Q={}));var Q;(function(t){function e(e,n){if(!e){return""}if(n==null){n=t.Culture.dateFormat}var r=function(e){return t.zeroPad(e,2)};return n.replace(new RegExp("dd?|MM?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|fff|zz?z?|\\/","g"),function(n){switch(n){case"/":return t.Culture.dateSeparator;case"hh":return r(e.getHours()<13?e.getHours():e.getHours()-12);case"h":return e.getHours()<13?e.getHours():e.getHours()-12;case"HH":return r(e.getHours());case"H":return e.getHours();case"mm":return r(e.getMinutes());case"m":return e.getMinutes();case"ss":return r(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return e.getFullYear();case"yy":return e.getFullYear().toString().substr(2,4);case"dd":return r(e.getDate());case"d":return e.getDate().toString();case"MM":return r(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return e.getHours()<12?"A":"P";case"tt":return e.getHours()<12?"AM":"PM";case"fff":return t.zeroPad(e.getMilliseconds(),3);case"zzz":case"zz":case"z":return"";default:return n}})}t.formatDate=e;function n(e){if(e===0)return"0";else if(!e)return"";var n=Math.floor(e/24/60);var r="";if(n>0){r+=n.toString()}var i=t.zeroPad(Math.floor(e%(24*60)/60),2)+":"+t.zeroPad(e%60,2);if(i!="00:00"){if(n>0)r+=".";r+=i}return r}t.formatDayHourAndMin=n;function r(t){if(t==null)return"";var e=function(t){return(t<10?"0":"")+t};var n=t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes());var r=Number(t.getUTCSeconds()+"."+(t.getUTCMilliseconds()<100?"0":"")+e(t.getUTCMilliseconds()));n+=":"+e(r)+"Z";return n}t.formatISODateTimeUTC=r;var i=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;function a(t){if(!t||!t.length)return null;var e=Date.parse(t);if(!isNaN(e)&&typeof e=="Date")return e;t=t+"";if(typeof t!="string"||t.length===0){return null}var n=t.match(i);if(typeof n=="undefined"||n===null){return null}var r,a,o,s,l,u,f;r=parseInt(n[1],10);if(typeof n[2]=="undefined"||n[2]===""){return new Date(r)}a=parseInt(n[2],10)-1;o=parseInt(n[3],10);if(typeof n[4]=="undefined"||n[4]===""){return new Date(r,a,o)}s=parseInt(n[4],10);l=parseInt(n[5],10);u=typeof n[6]!="undefined"&&n[6]!==""?parseInt(n[6],10):0;if(typeof n[7]!="undefined"&&n[7]!==""){f=Math.round(1e3*parseFloat("0."+n[7]))}else{f=0}if((typeof n[8]=="undefined"||n[8]==="")&&(typeof n[9]=="undefined"||n[9]==="")){return new Date(r,a,o,s,l,u,f)}var c;if(typeof n[9]!="undefined"&&n[9]!==""){c=parseInt(n[10],10)*36e5;if(typeof n[11]!="undefined"&&n[11]!==""){c+=parseInt(n[11],10)*6e4}if(n[9]=="-"){c=-c}}else{c=0}return new Date(Date.UTC(r,a,o,s,l,u,f)-c)}t.parseISODateTime=a;function o(e){var n=t.trim(e);if(n.length<4||n.length>5)return NaN;var r,i;if(n.charAt(1)==":"){r=t.parseInteger(n.substr(0,1));i=t.parseInteger(n.substr(2,2))}else{if(n.charAt(2)!=":")return NaN;r=t.parseInteger(n.substr(0,2));i=t.parseInteger(n.substr(3,2))}if(isNaN(r)||isNaN(i)||r<0||r>23||i<0||i>59)return NaN;return r*60+i}t.parseHourAndMin=o;function s(e){var n;var r=t.trim(e);if(!r)return NaN;var i=r.split(".");if(i.length==0||i.length>2)return NaN;if(i.length==1){n=t.parseInteger(i[0]);if(!isNaN(n))return n*24*60;return o(i[0])}else{n=t.parseInteger(i[0]);var a=o(i[1]);if(isNaN(n)||isNaN(a))return NaN;return n*24*60+a}}t.parseDayHourAndMin=s;function l(e,n){if(!e||!e.length)return null;var r;var i;var a,o,s;i=u(e);if(!i)return false;if(i.length==3){n=n||t.Culture.dateOrder;switch(n){case"dmy":a=parseInt(i[0],10);o=parseInt(i[1],10)-1;s=parseInt(i[2],10);break;case"ymd":a=parseInt(i[2],10);o=parseInt(i[1],10)-1;s=parseInt(i[0],10);break;case"mdy":default:a=parseInt(i[1],10);o=parseInt(i[0],10)-1;s=parseInt(i[2],10);break}if(isNaN(a)||isNaN(o)||isNaN(s)||a<1||a>31||o<0||o>11||s>9999||s<0)return false;if(s<100){var l=(new Date).getFullYear();var f=l%100+10;s+=l-l%100+(s<=f?0:-100)}try{r=new Date(s,o,a);if(isNaN(r.getFullYear()))return false}catch(c){return false}}else if(i.length==1){try{r=new Date(i[0]);if(isNaN(r.getFullYear()))return false}catch(c){return false}}return r}t.parseDate=l;function u(e){e=t.trim(e);if(!e.length)return;if(e.indexOf("/")>=0)return e.split("/");else if(e.indexOf(".")>=0)return e.split(".");else if(e.indexOf("-")>=0)return e.split("-");else if(e.indexOf("\\")>=0)return e.split("\\");else return[e]}t.splitDateString=u})(Q||(Q={}));var Q;(function(t){function e(t){var e=r.$table[t];if(e==null){e=t||""}return e}t.text=e;function n(t){return r.$table[t]}t.tryGetText=n;var r=function(){function e(t){this.key=t}e.add=function(t,n){if(!t){return}n=n||"";for(var r=0,i=Object.keys(t);r<i.length;r++){var a=i[r];var o=n+a;var s=t[a];if(typeof s==="object"){e.add(s,o+".")}else{e.$table[o]=s}}};e.prototype.get=function(){var t=e.$table[this.key];if(t==null){t=this.key||""}return t};e.prototype.toString=function(){var t=e.$table[this.key];if(t==null){t=this.key||""}return t};e.$table={};e.empty=new e("");e.initializeTextClass=function(n,r){var i=t.arrayClone(Object.keys(n));for(var a=0;a<i.length;a++){var o=i[a];var s=n[o];if(s instanceof e){var l=s;var u=r+o;e.$table[u]=l.$key;n[o]=new e(u)}}};e.getDefault=function(t,n){var r=e.$table[t];if(r==null){r=n;if(r==null){r=t||""}}return r};return e}();t.LT=r})(Q||(Q={}));var Q;(function(t){var e=function(){function e(t,e){this.items=[];this.itemById={};t=t||{};this.textFormatter=t.textFormatter;this.idField=t.idField;this.parentIdField=t.parentIdField;this.textField=t.textField;this.textFormatter=t.textFormatter;if(e!=null)this.update(e)}e.prototype.update=function(e){this.items=[];this.itemById={};if(e){for(var n=0,r=e;n<r.length;n++){var i=r[n];this.items.push(i)}}var a=this.idField;if(!t.isEmptyOrNull(a)){for(var o=0,s=this.items;o<s.length;o++){var l=s[o];var u=l[a];if(u!=null){this.itemById[u]=l}}}};e.prototype.get_idField=function(){return this.idField};e.prototype.get_parentIdField=function(){return this.parentIdField};e.prototype.get_textField=function(){return this.textField};e.prototype.get_textFormatter=function(){return this.textFormatter};e.prototype.get_itemById=function(){return this.itemById};e.prototype.get_items=function(){return this.items};return e}();t.Lookup=e})(Q||(Q={}));var Q;(function(t){var e=0;function n(t){if(e>0){e++;return}$.blockUI(t);e++}function r(t){t=$.extend({baseZ:2e3,message:"",overlayCSS:{opacity:"0.0",zIndex:2e3,cursor:"wait"},fadeOut:0},t);if(t.useTimeout){window.setTimeout(function(){n(t)},0)}else{n(t)}}t.blockUI=r;function i(){if(e>1){e--;return}e--;$.unblockUI({fadeOut:0})}t.blockUndo=i})(Q||(Q={}));var Q;(function(t){function e(t,e,n){$("<option/>").val(e).text(n).appendTo(t)}t.addOption=e;function n(n){e(n,"",t.text("Controls.SelectEditor.EmptyItemText"))}t.addEmptyOption=n;function r(t){t.html("")}t.clearOptions=r;function i(e,n){var r=e.attr("id");if(t.isEmptyOrNull(r)){return $("#"+n)}var i=$(r+n);if(i.length>0){return i}i=$(r+"_"+n);if(i.length>0){return i}while(true){var a=r.lastIndexOf("_");if(a<=0){return $("#"+n)}r=r.substr(0,a);i=$("#"+r+"_"+n);if(i.length>0){return i}}}t.findElementWithRelativeId=i;function a(t){switch(t){case"&":return"&amp;";case">":return"&gt;";case"<":return"&lt;"}return t}function o(t){var e=t==null?"":t.toString();if(new RegExp("[><&]","g").test(e)){return e.replace(new RegExp("[><&]","g"),a)}return e}t.htmlEncode=o;function s(t){window.console&&window.console.log(t)}t.log=s;function l(){return $("<div/>").appendTo(document.body)}t.newBodyDiv=l;function u(t){return $("<i/>").append(t.eq(0).clone()).html()}t.outerHtml=u})(Q||(Q={}));var Q;(function(t){function e(e,n){var r;n=$.extend({htmlEncode:true,okButton:t.text("Dialogs.OkButton"),title:t.text("Dialogs.AlertTitle"),onClose:null,onOpen:null,autoOpen:false,dialogClass:"s-MessageDialog s-AlertDialog",modal:true,width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(n.onOpen)n.onOpen.call(this)},close:function(){r.dialog("destroy");if(n.onClose)n.onClose()}},n);if(n.htmlEncode)e=t.htmlEncode(e);if(!n.buttons){var i=[];i.push({text:n.okButton,click:function(){r.dialog("close")}});n.buttons=i}r=$('<div><div class="message"></div></div>').dialog(n).children(".message").html(e).parent().dialog("open")}t.alert=e;function n(e,n,r){var i;r=$.extend({htmlEncode:true,yesButton:t.text("Dialogs.YesButton"),noButton:t.text("Dialogs.NoButton"),title:t.text("Dialogs.ConfirmationTitle"),onNo:null,onCancel:null,onClose:null,autoOpen:false,modal:true,dialogClass:"s-MessageDialog s-ConfirmDialog",width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(r.onOpen)r.onOpen.call(this)},close:function(){i.dialog("destroy");if(!a&&r.onCancel)r.onCancel()},overlay:{opacity:.77,background:"black"}},r);if(r.htmlEncode)e=t.htmlEncode(e);var a=false;if(!r.buttons){var o=[];o.push({text:r.yesButton,click:function(){a=true;i.dialog("close");if(n)n()}});if(r.noButton)o.push({text:r.noButton,click:function(){a=true;i.dialog("close");if(r.onNo)r.onNo();else if(r.onCancel)r.onCancel()}});r.buttons=o}i=$('<div><div class="message"></div></div>').dialog(r).children(".message").html(e).parent().dialog("open")}t.confirm=n;function r(e){var n;var r=$("<div><iframe></iframe></div>");var i=$.extend({autoOpen:true,modal:true,width:"60%",height:"400",title:t.text("Dialogs.AlertTitle"),open:function(){n=r.find("iframe").css({border:"none",width:"100%",height:"100%"})[0].contentDocument;n.open();n.write(i.html);n.close()},close:function(){n.open();n.write("");n.close();r.dialog("destroy").html("")}},e);r.dialog(i)}t.iframeDialog=r;function i(e,r,i){n(e,r,$.extend({title:t.text("Dialogs.InformationTitle"),dialogClass:"s-MessageDialog s-InformationDialog",yesButton:t.text("Dialogs.OkButton"),noButton:null},i))}t.information=i;function a(n,r){e(n,$.extend({title:t.text("Dialogs.WarningTitle"),dialogClass:"s-MessageDialog s-WarningDialog"},r))}t.warning=a})(Q||(Q={}));var Q;(function(t){t.defaultNotifyOptions={timeOut:3e3,showDuration:250,hideDuration:500,extendedTimeOut:500,positionClass:"toast-top-full-width"};function e(e){e=$.extend({},t.defaultNotifyOptions,e);o(true);return e}function n(t,n,r){toastr.warning(t,n,e(r))}t.notifyWarning=n;function r(t,n,r){toastr.success(t,n,e(r))}t.notifySuccess=r;function i(t,n,r){toastr.info(t,n,e(r))}t.notifyInfo=i;function a(t,n,r){toastr.error(t,n,e(r))}t.notifyError=a;function o(t){if(typeof toastr==="undefined"){return}var e=$(window.document.body).children(".ui-dialog:visible").last();var n=toastr.getContainer(null,t);if(n.length===0){return}if(e.length>0){var r=e.position();n.addClass("positioned-toast toast-top-full-width");n.css({position:"absolute",top:r.top+28+"px",left:r.left+6+"px",width:e.width()-12+"px"})}else{n.addClass("toast-top-full-width");if(n.hasClass("positioned-toast")){n.removeClass("positioned-toast");n.css({position:"",top:"",left:"",width:""})}}}t.positionToastContainer=o})(Q||(Q={}));var Q;(function(t){var e;(function(t){t.applicationPath="/";var e=$("link#ApplicationPath");if(e.length>0){t.applicationPath=e.attr("href")}t.emailAllowOnlyAscii=true;t.responsiveDialogs=false;t.rootNamespaces=["Serenity"];t.notLoggedInHandler=null})(e=t.Config||(t.Config={}))})(Q||(Q={}));var Q;(function(t){function e(t){var e;if(t===undefined)e=location.search.substring(1,location.search.length);else e=t||"";var n={};var r=e.split("&");for(var i=0;i<r.length;i++){var a=r[i].split("=");var o=decodeURIComponent(a[0]);n[o]=a.length>=2?decodeURIComponent(a[1]):o}return n}t.parseQueryString=e;function n(t){var e=$("<form/>").attr("method","POST").attr("action",t.url?i(t.url):i("~/services/"+t.service)).appendTo(document.body);if(t.target)e.attr("target",t.target);var n=$("<div/>").appendTo(e);$("<input/>").attr("type","hidden").attr("name","request").val($["toJSON"](t.request)).appendTo(n);$("<input/>").attr("type","submit").appendTo(n);e.submit();window.setTimeout(function(){e.remove()},0)}t.postToService=n;function r(t){var e=$("<form/>").attr("method","POST").attr("action",i(t.url)).appendTo(document.body);if(t.target)e.attr("target",t.target);var n=$("<div/>").appendTo(e);if(t.params!=null){for(var r in t.params){$("<input/>").attr("type","hidden").attr("name",r).val(t.params[r]).appendTo(n)}}$("<input/>").attr("type","submit").appendTo(n);e.submit();window.setTimeout(function(){e.remove()},0)}t.postToUrl=r;function i(e){if(e&&e.substr(0,2)==="~/"){return t.Config.applicationPath+e.substr(2)}return e}t.resolveUrl=i})(Q||(Q={}));var Q;(function(t){var e;(function(e){function n(e){var n;if(e==null){n="??ERROR??"}else{n=e.Message;if(n==null){n=e.Code}}t.alert(n)}e.showServiceError=n})(e=t.ErrorHandling||(t.ErrorHandling={}))})(Q||(Q={}));var Q;(function(t){function e(e){var n=function(n){if(t.Config.notLoggedInHandler!=null&&n&&n.Error&&t.Config.notLoggedInHandler(e,n)){return}if(e.onError!=null){e.onError(n);return}t.ErrorHandling.showServiceError(n.Error)};var r=e.service;if(r&&r.length&&r.charAt(0)!="~"&&r.charAt(0)!="/"&&r.indexOf("://")<0)r=t.resolveUrl("~/services/")+r;e=$.extend({dataType:"json",contentType:"application/json",type:"POST",cache:false,blockUI:true,url:r,data:$.toJSON(e.request),success:function(n,r,i){try{if(!n.Error&&e.onSuccess){e.onSuccess(n)}}finally{if(e.blockUI){t.blockUndo()}e.onCleanup&&e.onCleanup()}},error:function(r,i,a){try{if(r.status===403){var o=null;try{o=r.getResponseHeader("Location")}catch(s){o=null}if(o){window.top.location.href=o;return}}if((r.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var l=$.parseJSON(r.responseText);if(l&&l.Error){n(l);return}}var u=r.responseText;t.iframeDialog({html:u})}finally{if(e.blockUI){t.blockUndo()}e.onCleanup&&e.onCleanup()}}},e);if(e.blockUI){t.blockUI(null)}return $.ajax(e)}t.serviceCall=e;function n(t,n,r,i){return e($.extend({service:t,request:n,onSuccess:r},i))}t.serviceRequest=n;function r(t,e,n){if(t.EqualityFilter==null){t.EqualityFilter={}}t.EqualityFilter[e]=n}t.setEquality=r})(Q||(Q={}));var Q;(function(t){function e(t){$("body").addClass("full-height-page");var e=function(){var e;try{e=parseInt($(".page-content").css("min-height")||"0")-parseInt($(".page-content").css("padding-top")||"0")-parseInt($(".page-content").css("padding-bottom")||"0")}catch(n){e=100}t(e)};if(window.Metronic){window.Metronic.addResizeHandler(e)}else{$(window).resize(e)}e()}t.addFullHeightResizeHandler=e;function n(t){t.css("height","100%");s(t)}t.autoFullHeight=n;function r(t){$("body").addClass("full-height-page");t.addClass("responsive-height");var e=function(){var e=t.parent().hasClass("page-content")||t.parent().is("section.content");if(e){t.css("height","1px").css("overflow","hidden")}a(t);if(e){t.css("overflow","")}t.triggerHandler("layout")};if($("body").hasClass("has-layout-event")){$("body").bind("layout",e)}else if(window.Metronic){window.Metronic.addResizeHandler(e)}else{$(window).resize(e)}e()}t.initFullHeightGridPage=r;function i(t){var e=0;t.parent().children().not(t).each(function(t,n){var r=$(n);if(r.is(":visible")){e+=r.outerHeight(true)}});e=t.parent().height()-e;if(t.css("box-sizing")!=="border-box"){e=e-(t.outerHeight(true)-t.height())}return e}t.layoutFillHeightValue=i;function a(t){var e=i(t);var n=e+"px";if(t.css("height")!=n){t.css("height",n)}}t.layoutFillHeight=a;function o(){var t=navigator.userAgent.indexOf("Mobi")>=0||window.matchMedia("(max-width: 767px)").matches;var e=$(document.body);if(e.hasClass("mobile-device")){if(!t){e.removeClass("mobile-device")}}else if(t){e.addClass("mobile-device")}}t.setMobileDeviceMode=o;function s(t){Serenity.LazyLoadHelper.executeEverytimeWhenShown(t,function(){t.triggerHandler("layout")},true)}t.triggerLayoutOnShow=s})(Q||(Q={}));var Q;(function(t){var e;(function(e){var n={};var r={};function i(t,e,n){$(document.body).bind("scriptdatachange."+e,function(e,r){if(r==t){n()}})}e.bindToChange=i;function a(t){$(document.body).triggerHandler("scriptdatachange",[t])}e.triggerChange=a;function o(t){$(document.body).unbind("scriptdatachange."+t)}e.unbindFromChange=o;function s(t){$.ajax({async:false,cache:true,type:"GET",url:t,data:null,dataType:"script"})}function l(e){return RSVP.resolve().then(function(){t.blockUI(null);return RSVP.resolve($.ajax({async:true,cache:true,type:"GET",url:e,data:null,dataType:"script"}).always(function(){t.blockUndo()}))},null)}function u(e){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}e=e+".js?"+n[e];s(t.resolveUrl("~/DynJS.axd/")+e)}function f(e){return RSVP.resolve().then(function(){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}e=e+".js?"+n[e];return l(t.resolveUrl("~/DynJS.axd/")+e)},null)}function c(e){var n=r[e];if(n==null){u(e)}n=r[e];if(n==null)throw new Error(t.format("Can't load script data: {0}!",e));return n}e.ensure=c;function d(e){return RSVP.resolve().then(function(){var n=r[e];if(n!=null){return RSVP.resolve(n)}return f(e).then(function(){n=r[e];if(n==null){throw new Error(t.format("Can't load script data: {0}!",e))}return n},null)},null)}e.ensureAsync=d;function g(e){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}n[e]=(new Date).getTime().toString();u(e);var i=r[e];return i}e.reload=g;function p(e){return RSVP.resolve().then(function(){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}n[e]=(new Date).getTime().toString();return f(e).then(function(){return r[e]},null)},null)}e.reloadAsync=p;function v(t){return r[t]!=null||n[t]!=null}e.canLoad=v;function h(t){n={};for(var e in t){n[e]=t[e].toString()}}e.setRegisteredScripts=h;function m(t,e){r[t]=e;a(t)}e.set=m})(e=t.ScriptData||(t.ScriptData={}));function n(t){return e.ensure("RemoteData."+t)}t.getRemoteData=n;function r(t){return e.ensureAsync("RemoteData."+t)}t.getRemoteDataAsync=r;function i(t){return e.ensure("Lookup."+t)}t.getLookup=i;function a(t){return e.ensureAsync("Lookup."+t)}t.getLookupAsync=a;function o(t){e.reload("Lookup."+t)}t.reloadLookup=o;function s(t){return e.reloadAsync("Lookup."+t)}t.reloadLookupAsync=s;function l(t){return e.ensure("Columns."+t)}t.getColumns=l;function u(t){return e.ensureAsync("Columns."+t)}t.getColumnsAsync=u;function f(t){return e.ensure("Form."+t)}t.getForm=f;function c(t){return e.ensureAsync("Form."+t)}t.getFormAsync=c;function d(t){return e.ensure("Template."+t)}t.getTemplate=d;function g(t){return e.ensureAsync("Template."+t)}t.getTemplateAsync=g;function p(t){return e.canLoad(t)}t.canLoadScriptData=p})(Q||(Q={}));var Q;(function(t){function e(t,e,n,r){n=n||"get_"+e;r=r||"set_"+e;Object.defineProperty(t.prototype,e,{get:function(){return this[n]()},set:function(t){return this[r](t)},configurable:true,enumerable:true})}t.prop=e;function n(t,e,n){function r(t,e,i){if(!t)return;if($.isArray(t)||t instanceof Date)return;var a=typeof t;if(a=="string"||a=="number")return;if($.isFunction(t)||t.__enum&&t.__register)n(t,e);if(i>3)return;for(var o=0,s=Object.keys(t);o<s.length;o++){var l=s[o];if(l.charAt(0)<"A"||l.charAt(0)>"Z")continue;if(l.indexOf("$")>=0)continue;if(l=="prototype")continue;r(t[l],e+"."+l,i+1)}}for(var i=0,a=e;i<a.length;i++){var o=a[i];if(o==null||!o.length){continue}if(o.indexOf(".")>=0){var s=t;var l=o.split(".");for(var u=0,f=l;u<f.length;u++){var c=f[u];if(!c.length)continue;s=s[c];if(!s)continue}r(s,o,0)}r(t[o],o,0)}}(function(e){if(typeof RSVP!==undefined){RSVP.on&&RSVP.on(function(e){t.log(e);t.log(e.get_stack&&e.get_stack()||e.stack)})}ss.initAssembly({},"App",{});e.Q$Externals=t;e.Q$Config=t.Config;e.Q$Culture=t.Culture;e.Q$Lookup=t.Lookup;e.Q$ScriptData=t.ScriptData;e.Q$LT=t.LT;function r(){n(e,t.Config.rootNamespaces,function(t,e){if(t.hasOwnProperty("__typeName")&&!t.__register)return;if(!t.__interfaces&&t.prototype.format&&e.substr(-9)=="Formatter"){t.__class=true;t.__interfaces=[Serenity.ISlickFormatter]}if(!t.__class){var n=ss.getBaseType(t);if(n.__class)t.__class=true}if(t.__class||t.__enum){t.__typeName=e;if(!t.__assembly){t.__assembly=ss.__assemblies["App"]}t.__assembly.__types[e]=t}delete t.__register})}$(function(){r();t.setMobileDeviceMode();$(e).bind("resize",function(){t.setMobileDeviceMode()})})})(window||{})})(Q||(Q={}));var Serenity;(function(t){var e=function(){function t(t){this.value=t}return t}();t.ColumnsKeyAttribute=e;var n=function(){function t(t){this.value=t}return t}();t.DialogTypeAttribute=n;var r=function(){function t(){}return t}();t.EditorAttribute=r;var i=function(){function t(t){this.value=t}return t}();t.ElementAttribute=i;var a=function(){function t(t){this.value=t}return t}();t.EntityTypeAttribute=a;var o=function(){function t(t){this.value=t}return t}();t.EnumKeyAttribute=o;var s=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.FlexifyAttribute=s;var l=function(){function t(t){this.value=t}return t}();t.FormKeyAttribute=l;var u=function(){function t(t){this.origin=t}return t}();t.GeneratedCodeAttribute=u;var f=function(){function t(t){this.value=t}return t}();t.IdPropertyAttribute=f;var c=function(){function t(t){this.value=t}return t}();t.IsActivePropertyAttribute=c;var d=function(){function t(t){this.value=t}return t}();t.ItemNameAttribute=d;var g=function(){function t(t){this.value=t}return t}();t.LocalTextPrefixAttribute=g;var p=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.MaximizableAttribute=p;var v=function(){function t(t){this.value=t}return t}();t.NamePropertyAttribute=v;var h=function(){function t(){}return t}();t.OptionAttribute=h;var m=function(){function t(t){this.value=t}return t}();t.OptionsTypeAttribute=m;var y=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.PanelAttribute=y;var w=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.ResizableAttribute=w;var b=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.ResponsiveAttribute=b;var _=function(){function t(t){this.value=t}return t}();t.ServiceAttribute=_})(Serenity||(Serenity={}));var Serenity;(function(t){var e;(function(e){function n(t,e){var n=t.__metadata;t.__metadata=t.__metadata||{};t.__metadata.attr=t.__metadata.attr||[];t.__metadata.attr.push(e)}e.addAttribute=n;function r(t,e,n){var r=t.__metadata;t.__metadata=t.__metadata||{};t.__metadata.members=t.__metadata.members||[];var i=undefined;for(var a=0,o=t.__metadata.members;a<o.length;a++){var s=o[a];if(s.name==e){i=s;break}}if(!i){i={name:e};t.__metadata.members.push(i)}i.attr=i.attr||[];i.attr.push(n)}e.addMemberAttr=r;function i(e){return function(r){n(r,new t.ColumnsKeyAttribute(e))}}e.columnsKey=i;function a(e){return function(r){n(r,new t.DialogTypeAttribute(e))}}e.dialogType=a;function o(e){return function(r){var i=new t.EditorAttribute;if(e!==undefined)i.key=e;n(r,i)}}e.editor=o;function s(e){return function(r){n(r,new t.ElementAttribute(e))}}e.element=s;function l(e){return function(r){n(r,new t.EntityTypeAttribute(e))}}e.entityType=l;function u(e){return function(r){n(r,new t.EnumKeyAttribute(e))}}e.enumKey=u;function f(e){if(e===void 0){e=true}return function(r){n(r,new t.FlexifyAttribute(e))}}e.flexify=f;function c(e){return function(r){n(r,new t.FormKeyAttribute(e))}}e.formKey=c;function d(e){return function(r){n(r,new t.GeneratedCodeAttribute(e))}}e.generatedCode=d;function g(e){return function(r){n(r,new t.IdPropertyAttribute(e))}}e.idProperty=g;function p(t,e){return function(n){n.__register=true;n.__class=true;n.__assembly=e||ss.__assemblies["App"];if(t)n.__interfaces=t}}e.registerClass=p;function v(e,r,i){if(!e.__enum){Object.defineProperty(e,"__enum",{get:function(){return true}});e.prototype=e.prototype||{};for(var a=0,o=Object.keys(e);a<o.length;a++){var s=o[a];if(isNaN(Q.parseInteger(s))&&e[s]!=null&&!isNaN(Q.parseInteger(e[s])))e.prototype[s]=e[s]}e.__register=true;if(r)n(e,new t.EnumKeyAttribute(r))}}e.registerEnum=v;function h(t,e){return p(t,e)}e.registerEditor=h;function m(e,n){if(e===void 0){e=[t.ISlickFormatter]}return p(e,n)}e.registerFormatter=m;function y(e){if(e===void 0){e=true}return function(r){n(r,new t.FilterableAttribute(e))}}e.filterable=y;function w(e){return function(r){n(r,new t.ItemNameAttribute(e))}}e.itemName=w;function b(e){return function(r){n(r,new t.IsActivePropertyAttribute(e))}}e.isActiveProperty=b;function _(e){return function(r){n(r,new t.LocalTextPrefixAttribute(e))}}e.localTextPrefix=_;function $(e){if(e===void 0){e=true}return function(r){n(r,new t.MaximizableAttribute(e))}}e.maximizable=$;function x(e){return function(r){n(r,new t.NamePropertyAttribute(e))}}e.nameProperty=x;function C(){return function(e,n){r(e.constructor,n,new t.OptionAttribute)}}e.option=C;function S(e){return function(r){n(r,new t.OptionsTypeAttribute(e))}}e.optionsType=S;function P(e){if(e===void 0){e=true}return function(r){n(r,new t.PanelAttribute(e))}}e.panel=P;function k(e){if(e===void 0){e=true}return function(r){n(r,new t.ResizableAttribute(e))}}e.resizable=k;function A(e){if(e===void 0){e=true}return function(r){n(r,new t.ResponsiveAttribute(e))}}e.responsive=A;function I(e){return function(r){n(r,new t.ServiceAttribute(e))}}e.service=I})(e=t.Decorators||(t.Decorators={}))})(Serenity||(Serenity={}));var Serenity;(function(t){function e(t){return[t]}t.Criteria=e;var e;(function(t){var e=t;function n(t){return t==null||t.length===0||t.length===1&&typeof t[0]=="string"&&t[0].length===0}t.isEmpty=n;function r(t,n,r){if(e.isEmpty(t))return r;if(e.isEmpty(r))return t;return[t,n,r]}t.join=r;function i(t){return e.isEmpty(t)?t:["()",t]
}t.paren=i;function a(t,e){var n=[];for(var i=2;i<arguments.length;i++){n[i-2]=arguments[i]}var a=r(t,"and",e);if(n){for(var o=0,s=n;o<s.length;o++){var l=s[o];a=r(a,"and",l)}}return a}t.and=a;function o(t,e){var n=[];for(var i=2;i<arguments.length;i++){n[i-2]=arguments[i]}var a=r(t,"or",e);if(n){for(var o=0,s=n;o<s.length;o++){var l=s[o];a=r(a,"or",l)}}return a}t.or=o})(e=t.Criteria||(t.Criteria={}))})(Serenity||(Serenity={}));var Serenity;(function(t){var e;(function(t){var e=0;function n(t,n){e++;var r="ExecuteOnceWhenShown"+e;var i=false;if(t.is(":visible")){n()}else{var a=t.closest(".ui-tabs");if(a.length>0){a.bind("tabsshow."+r,function(e){if(t.is(":visible")){a.unbind("tabsshow."+r);if(!i){i=true;t.unbind("shown."+r);n()}}})}var o;if(t.hasClass("ui-dialog")){o=t.children(".ui-dialog-content")}else{o=t.closest(".ui-dialog-content")}if(o.length>0){o.bind("dialogopen."+r,function(){o.unbind("dialogopen."+r);if(t.is(":visible")&&!i){i=true;t.unbind("shown."+r);n()}})}t.bind("shown."+r,function(){if(t.is(":visible")){t.unbind("shown."+r);if(!i){i=true;n()}}})}}t.executeOnceWhenShown=n;function r(t,n,r){e++;var i="ExecuteEverytimeWhenShown"+e;var a=t.is(":visible");if(a&&r){n()}var o=function(e){if(t.is(":visible")){if(!a){a=true;n()}}else{a=false}};var s=t.closest(".ui-tabs");if(s.length>0){s.bind("tabsactivate."+i,o)}var l=t.closest(".ui-dialog-content");if(l.length>0){l.bind("dialogopen."+i,o)}t.bind("shown."+i,o)}t.executeEverytimeWhenShown=r})(e=t.LazyLoadHelper||(t.LazyLoadHelper={}))})(Serenity||(Serenity={}));var Serenity;(function(t){var e;(function(t){function e(t,e,n){if(!t)return;var i=r(t);if(!i)return;var a=i[e];if(a==null){return}if(a===t.tabs("option","active")){t.tabs("option","active",0)}t.tabs(n?"disable":"enable",a)}t.setDisabled=e;function n(t){var e=t.children("ul").children("li").eq(t.tabs("option","active")).children("a").attr("href").toString();var n="_Tab";var r=e.lastIndexOf(n);if(r>=0){e=e.substr(r+n.length)}return e}t.activeTabKey=n;function r(t){var e=t.data("indexByKey");if(!e){e={};t.children("ul").children("li").children("a").each(function(t,n){var r=n.getAttribute("href").toString();var i="_Tab";var a=r.lastIndexOf(i);if(a>=0){r=r.substr(a+i.length)}e[r]=t});t.data("indexByKey",e)}return e}t.indexByKey=r})(e=t.TabsExtensions||(t.TabsExtensions={}))})(Serenity||(Serenity={}));if($.fn.button&&$.fn.button.noConflict){var btn=$.fn.button.noConflict();$.fn.btn=btn}$.fn.flexHeightOnly=function(t){if(t===void 0){t=1}return this.flexWidthHeight(0,t)};$.fn.flexWidthOnly=function(t){if(t===void 0){t=1}return this.flexWidthHeight(t,0)};$.fn.flexWidthHeight=function(t,e){if(t===void 0){t=1}if(e===void 0){e=1}return this.addClass("flexify").data("flex-x",t).data("flex-y",e)};$.fn.flexX=function(t){return this.data("flex-x",t)};$.fn.flexY=function(t){return this.data("flex-y",t)};if($.fn.button&&$.fn.button.noConflict){var btn=$.fn.button.noConflict();$.fn.btn=btn}(function(t){t.widget("ui.slickPager",{options:{view:null,showRowsPerPage:true,rowsPerPageOptions:[20,100,500,2e3],onRpChange:null},_create:function(){var e=this;var n=e.options;var r=n.view;if(!r)throw"SlickPager requires view option to be set!";this.element.addClass("s-SlickPager slick-pg").html('<div class="slick-pg-in">'+'<div class="slick-pg-grp">'+'<div class="slick-pg-first slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'<div class="slick-pg-prev slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'</div><div class="slick-pg-sep"></div><div class="slick-pg-grp">'+'<span class="slick-pg-control">&nbsp;'+Q.text("Controls.Pager.Page")+'&nbsp;<input class="slick-pg-current" type="text" size="4" value="1" /> / '+'<span class="slick-pg-total"> 1 </span></span>'+'</div><div class="slick-pg-sep"></div><div class="slick-pg-grp">'+'<div class="slick-pg-next slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'<div class="slick-pg-last slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'</div><div class="slick-pg-sep"></div><div class="slick-pg-grp">'+'<div class="slick-pg-reload slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'</div><div class="slick-pg-sep"></div>'+'<div class="slick-pg-grp"><span class="slick-pg-stat"></span></div></div>');t(".slick-pg-reload",this.element).click(function(){r.populate()});t(".slick-pg-first",this.element).click(function(){e._changePage("first")});t(".slick-pg-prev",this.element).click(function(){e._changePage("prev")});t(".slick-pg-next",this.element).click(function(){e._changePage("next")});t(".slick-pg-last",this.element).click(function(){e._changePage("last")});t(".slick-pg-current",this.element).keydown(function(t){if(t.keyCode==13)e._changePage("input")});if(e.options.showRowsPerPage){var i,a="";for(var o=0;o<n.rowsPerPageOptions.length;o++){if(r.rowsPerPage==n.rowsPerPageOptions[o])a='selected="selected"';else a="";i+="<option value='"+n.rowsPerPageOptions[o]+"' "+a+" >"+n.rowsPerPageOptions[o]+"&nbsp;&nbsp;</option>"}t(".slick-pg-in",this.element).prepend('<div class="slick-pg-grp"><select class="slick-pg-size" name="rp">'+i+'</select></div><div class="slick-pg-sep"></div>');t("select.slick-pg-size",this.element).change(function(){if(n.onRowsPerPageChange)n.onRowsPerPageChange(+this.value);else{r.newp=1;r.setPagingOptions({page:1,rowsPerPage:+this.value})}})}r.onPagingInfoChanged.subscribe(function(){e._updatePager()})},destroy:function(){t.Widget.prototype.destroy.apply(this,arguments)},_changePage:function(e){var n=this.options.view;if(!n||n.loading)return true;var r=n.getPagingInfo();var i=!r.rowsPerPage||!r.totalCount?1:Math.ceil(r.totalCount/r.rowsPerPage);var a;switch(e){case"first":a=1;break;case"prev":if(r.page>1)a=parseInt(r.page)-1;break;case"next":if(r.page<i)a=parseInt(r.page)+1;break;case"last":a=i;break;case"input":var o=parseInt(t("input.slick-pg-current",this.element).val());if(isNaN(o))o=1;else if(o<1)o=1;else if(o>i)o=i;t(".slick-pg-current",this.element).val(o);a=o;break}if(a==r.page)return false;if(this.options.onChangePage)this.options.onChangePage(a);else{n.setPagingOptions({page:a})}},_updatePager:function(){var e=this.options.view;var n=e.getPagingInfo();var r=!n.rowsPerPage||!n.totalCount?1:Math.ceil(n.totalCount/n.rowsPerPage);t(".slick-pg-current",this.element).val(n.page);t(".slick-pg-total",this.element).html(r);var i=(n.page-1)*n.rowsPerPage+1;var a=i+n.rowsPerPage-1;if(n.totalCount<a)a=n.totalCount;var o;if(n.loading){o=Q.text("Controls.Pager.LoadingStatus")}else if(n.error){o=n.error}else if(n.totalCount>0){o=Q.text("Controls.Pager.PageStatus");o=o.replace(/{from}/,i);o=o.replace(/{to}/,a);o=o.replace(/{total}/,n.totalCount)}else o=Q.text("Controls.Pager.NoRowStatus");t(".slick-pg-stat",this.element).html(o);t(".slick-pg-size",this.element).val((n.rowsPerPage||0).toString())},_setOption:function(e,n){t.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);var Slick;(function(t){var e;(function(t){var e})(e=t.Data||(t.Data={}))})(Slick||(Slick={}));var Slick;(function(t){var e=function(){function e(e){var n=this;var r={groupItemMetadataProvider:null,inlineFilters:false};var i;var a=[];var o=[];var s={};var l=null;var u=null;var f=null;var c=0;var d=true;var g;var p;var v={};var h={};var m;var y=[];var w;var b;var _=[];var x={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregateEmpty:false,aggregateCollapsed:false,aggregateChildGroups:false,collapsed:false,displayTotalsRow:true,lazyTotalsCalculation:false};var C={};var S=[];var P=[];var k=[];var A=":|:";var I=1;var T=0;var O=new t.Event;var N=new t.Event;var D=new t.Event;var E=false;var F=null;var M=0;var R=0;var H;var j;var z=null;var L=new t.Event;var V=new t.Event;var B=new t.Event;var U=new t.Event;var G;function W(){c++}function q(){c--;if(c<=0)Ke()}function K(t){v=t}function Z(t){m=t}function J(t){t=t||0;var e;for(var n=t,r=a.length;n<r;n++){e=a[n][i];if(e===undefined){var o="Each data element must implement a unique '"+i+"' property. Object at index '"+n+"' "+"has no identity value: ";o+=$.toJSON(a[n]);throw o}s[e]=n}}function Y(){var t;for(var e=0,n=a.length;e<n;e++){t=a[e][i];if(t===undefined||s[t]!==e){var r="Each data element must implement a unique '"+i+"' property. Object at index '"+e+"' ";if(t==undefined)r+="has no identity value: ";else r+="has repeated identity value '"+t+"': ";r+=$.toJSON(a[e]);throw r}}}function X(){return a}function te(t){a=y=t;s={};l=null;C.totals={};J();Y();Ke();L.notify({dataView:n},null,n)}function ee(t){var e=false;if(t.rowsPerPage!=undefined&&G.rowsPerPage!=t.rowsPerPage){G.rowsPerPage=t.rowsPerPage;e=true}if(t.page!=undefined){var n;if(!G.rowsPerPage)n=1;else if(z==null)n=t.page;else n=Math.min(t.page,Math.ceil(z/G.rowsPerPage)+1);if(n<1)n=1;if(n!=I){G.seekToPage=n;e=true}}if(e)Xe()}function ne(){return{rowsPerPage:G.rowsPerPage,page:I,totalCount:z,loading:E,error:F,dataView:n}}function re(t,e){d=e;p=t;g=null;if(e===false){a.reverse()}a.sort(t);if(e===false){a.reverse()}s={};J();Ke()}function ie(t,e){d=e;g=t;p=null;var n=Object.prototype.toString;Object.prototype.toString=typeof t==="function"?t:function(){return this[t]};if(e===false){a.reverse()}a.sort();Object.prototype.toString=n;if(e===false){a.reverse()}s={};J();Ke()}function ae(){if(p){re(p,d)}else if(g){ie(g,d)}}function oe(t){u=t;if(e.inlineFilters){w=Le();b=Ve()}Ke()}function se(){return S}function le(t){t=t||{};C.aggregators=t.aggregators||[];C.compiledAccumulators=[];C.totals={};var e=C.aggregators.length;while(e--){C.compiledAccumulators[e]=ze(C.aggregators[e])}fe(S||[])}function ue(){C.totals=C.totals||{};if(!C.totals.initialized){C.aggregators=C.aggregators||[];C.compiledAccumulators=C.compiledAccumulators||[];var t,e=C.aggregators.length;while(e--){t=C.aggregators[e];t.init();C.compiledAccumulators[e].call(t,a);t.storeResult(C.totals)}C.totals.initialized=true}return C.totals}function fe(n){if(!e.groupItemMetadataProvider){e.groupItemMetadataProvider=new t.Data.GroupItemMetadataProvider}P=[];k=[];n=n||[];S=n instanceof Array?n:[n];for(var r=0;r<S.length;r++){var i=S[r]=$.extend(true,{},x,S[r]);i.aggregators=i.aggregators||C.aggregators||[];i.getterIsAFn=typeof i.getter==="function";i.compiledAccumulators=[];var a=i.aggregators.length;while(a--){i.compiledAccumulators[a]=ze(i.aggregators[a])}k[r]={}}Ke()}function ce(t){return a[t]}function de(t){return s[t]}function ge(){if(!l){l={};for(var t=0,e=o.length;t<e;t++){l[o[t][i]]=t}}}function pe(t){ge();return l[t]}function ve(t){return a[s[t]]}function he(t){var e=[];ge();for(var n=0,r=t.length;n<r;n++){var i=l[t[n]];if(i!=null){e[e.length]=i}}return e}function me(t){var e=[];for(var n=0,r=t.length;n<r;n++){if(t[n]<o.length){e[e.length]=o[t[n]][i]}}return e}function ye(t,e){if(s[t]===undefined||t!==e[i]){throw"Invalid or non-matching id"}a[s[t]]=e;if(!f){f={}}f[t]=true;Ke()}function we(t,e){a.splice(t,0,e);J(t);Ke()}function be(t){a.push(t);J(a.length-1);Ke()}function _e(t){var e=s[t];if(e===undefined){throw"Invalid id"}delete s[t];a.splice(e,1);J(e);Ke()}function $e(){return o}function xe(){return o.length}function Ce(t){var e=o[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=S[e.level];if(!n.displayTotalsRow){Me(e.totals);e.title=n.formatter?n.formatter(e):e.value}}else if(e&&e.__groupTotals&&!e.initialized){Me(e)}return e}function Se(t){var n=o[t];if(n===undefined){return null}if(n.__group){return e.groupItemMetadataProvider.getGroupRowMetadata(n)}if(n.__groupTotals){return e.groupItemMetadataProvider.getTotalsRowMetadata(n)}return e.getItemMetadata&&e.getItemMetadata(n,t)||null}function Pe(t,e){if(t==null){for(var n=0;n<S.length;n++){k[n]={};S[n].collapsed=e}}else{k[t]={};S[t].collapsed=e}Ke()}function ke(t){Pe(t,true)}function Ae(t){Pe(t,false)}function Ie(t){var e=t[0];if(t.length===1&&e.indexOf(A)!==-1){return{level:e.split(A).length-1,groupingKey:e}}else{return{level:t.length-1,groupingKey:t.join(A)}}}function Te(t,e){var n=Ie(t);k[n.level][n.groupingKey]=S[n.level].collapsed^e;Ke()}function Oe(t){var e=Array.prototype.slice.call(arguments);Te(e,true)}function Ne(t){var e=Array.prototype.slice.call(arguments);Te(e,false)}function De(){return P}function Ee(e,n,r,i,a){var o=e[n];if(!o){o=new t.Group;o.value=n;o.level=r;o.groupingKey=(i?i.groupingKey+A:"")+n;a[a.length]=o;e[n]=o}return o}function Fe(t,e){var n;var r;var i=[];var a={};var o;var s=e?e.level+1:0;var l=S[s];for(var u=0,f=l.predefinedValues.length;u<f;u++){r=l.predefinedValues[u];n=Ee(a,r,s,e,i)}for(var u=0,f=t.length;u<f;u++){o=t[u];r=l.getterIsAFn?l.getter(o):o[l.getter];n=Ee(a,r,s,e,i);n.rows[n.count++]=o}if(s<S.length-1){for(var u=0;u<i.length;u++){n=i[u];n.groups=Fe(n.rows,n)}}i.sort(S[s].comparer);return i}function Me(t){var e=t.group;var n=S[e.level];var r=e.level==S.length;var i,a=n.aggregators.length;if(!r&&n.aggregateChildGroups){var o=e.groups.length;while(o--){if(!e.groups[o].totals.initialized){Me(e.groups[o].totals)}}}while(a--){i=n.aggregators[a];i.init();if(!r&&n.aggregateChildGroups){n.compiledAccumulators[a].call(i,e.groups)}else{n.compiledAccumulators[a].call(i,e.rows)}i.storeResult(t)}t.initialized=true}function Qe(e){var n=S[e.level];var r=new t.GroupTotals;r.group=e;e.totals=r;if(!n.lazyTotalsCalculation){Me(r)}}function Re(t,e){e=e||0;var n=S[e];var r=n.collapsed;var i=k[e];var a=t.length,o;while(a--){o=t[a];if(o.collapsed&&!n.aggregateCollapsed){continue}if(o.groups){Re(o.groups,e+1)}if(n.aggregators.length&&(n.aggregateEmpty||o.rows.length||o.groups&&o.groups.length)){Qe(o)}o.collapsed=r^i[o.groupingKey];o.title=n.formatter?n.formatter(o):o.value}}function He(t,e){e=e||0;var n=S[e];var r=[],i,a=0,o;for(var s=0,l=t.length;s<l;s++){o=t[s];r[a++]=o;if(!o.collapsed){i=o.groups?He(o.groups,e+1):o.rows;for(var u=0,f=i.length;u<f;u++){r[a++]=i[u]}}if(o.totals&&n.displayTotalsRow&&(!o.collapsed||n.aggregateCollapsed)){r[a++]=o.totals}}return r}function je(t){var e=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/;var n=t.toString().match(e);return{params:n[1].split(","),body:n[2]}}function ze(t){var e=je(t.accumulate);var n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");n.displayName=n.name="compiledAccumulatorLoop";return n}function Le(){var t=je(u);var e=t.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e);n=n.replace(/\$item\$/gi,t.params[0]);n=n.replace(/\$args\$/gi,t.params[1]);var r=new Function("_items,_args",n);r.displayName=r.name="compiledFilter";return r}function Ve(){var t=je(u);var e=t.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e);n=n.replace(/\$item\$/gi,t.params[0]);n=n.replace(/\$args\$/gi,t.params[1]);var r=new Function("_items,_args,_cache",n);r.displayName=r.name="compiledFilterWithCaching";return r}function Be(t,e){var n=[],r=0;for(var i=0,a=t.length;i<a;i++){if(u(t[i],e)){n[r++]=t[i]}}return n}function Ue(t,e,n){var r=[],i=0,a;for(var o=0,s=t.length;o<s;o++){a=t[o];if(n[o]){r[i++]=a}else if(u(a,e)){r[i++]=a;n[o]=true}}return r}function Ge(t){if(u){var n=e.inlineFilters?w:Be;var r=e.inlineFilters?b:Ue;if(v.isFilterNarrowing){y=n(y,m)}else if(v.isFilterExpanding){y=r(t,m,_)}else if(!v.isFilterUnchanged){y=n(t,m)}}else{y=t.concat()}return{totalRows:y.length,rows:y}}function We(t,e){var n,r,a,o=[];var s=0,l=e.length;if(v&&v.ignoreDiffsBefore){s=Math.max(0,Math.min(e.length,v.ignoreDiffsBefore))}if(v&&v.ignoreDiffsAfter){l=Math.min(e.length,Math.max(0,v.ignoreDiffsAfter))}for(var u=s,c=t.length;u<l;u++){if(u>=c){o[o.length]=u}else{n=e[u];r=t[u];if(S.length&&(a=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||a&&(n.__groupTotals||r.__groupTotals)||n[i]!=r[i]||f&&f[n[i]]){o[o.length]=u}}}return o}function qe(t){l=null;if(v.isFilterNarrowing!=h.isFilterNarrowing||v.isFilterExpanding!=h.isFilterExpanding){_=[]}var e=Ge(t);T=e.totalRows;var n=e.rows;C.totals={};P=[];if(S.length){P=Fe(n);if(P.length){Re(P);n=He(P)}}var r=We(o,n);o=n;return r}function Ke(){if(c){return}var t=o.length;var e=T;var r=qe(a);f=null;h=v;v={};if(e!==T){D.notify(ne(),null,n)}if(t!==o.length){O.notify({previous:t,current:o.length,dataView:n},null,n)}if(r.length>0){N.notify({rows:r,dataView:n},null,n)}}function Ze(e,n,r){var i=this;var a;var o=i.mapRowsToIds(e.getSelectedRows());var s=new t.Event;function l(n){if(o.join(",")==n.join(",")){return}o=n;s.notify({grid:e,ids:o,dataView:i},new t.EventData,i)}function u(){if(o.length>0){a=true;var t=i.mapIdsToRows(o);if(!n){l(i.mapRowsToIds(t))}e.setSelectedRows(t);a=false}}e.onSelectedRowsChanged.subscribe(function(t,n){if(a){return}var s=i.mapRowsToIds(e.getSelectedRows());if(!r||!e.getOptions().multiSelect){l(s)}else{var u=$.grep(o,function(t){return i.getRowById(t)===undefined});l(u.concat(s))}});this.onRowsChanged.subscribe(u);this.onRowCountChanged.subscribe(u);return s}function Je(t,e){var n;var r;a(t.getCellCssStyles(e));function a(t){n={};for(var e in t){var r=o[e][i];n[r]=t[e]}}function s(){if(n){r=true;ge();var i={};for(var a in n){var o=l[a];if(o!=undefined){i[o]=n[a]}}t.setCellCssStyles(e,i);r=false}}t.onCellCssStylesChanged.subscribe(function(t,n){if(r){return}if(e!=n.key){return}if(n.hash){a(n.hash)}});this.onRowsChanged.subscribe(s);this.onRowCountChanged.subscribe(s)}function Ye(t){if(G.onProcessData&&t)t=G.onProcessData(t,G)||t;F=null;E&&E.abort();E=false;if(!t){F=G.errormsg;D.notify(ne());return false}var e=t;t.TotalCount=t.TotalCount||0;t.Entities=t.Entities||[];if(!t.Skip||!G.rowsPerPage&&!t.Take)t.Page=1;else t.Page=Math.ceil(t.Skip/(t.Take||G.rowsPerPage))+1;I=t.Page;z=t.TotalCount;te(t.Entities);D.notify(ne())}function Xe(){if(M>0){R++;return}R=0;E&&E.abort();if(G.onSubmit){var t=G.onSubmit(G);if(t===false)return false}V.notify(this);if(!G.url)return false;if(!G.seekToPage)G.seekToPage=1;var e={};var n=(G.seekToPage-1)*G.rowsPerPage;if(n)e.Skip=n;if(G.rowsPerPage)e.Take=G.rowsPerPage;if(G.sortBy&&G.sortBy.length){if($.isArray(G.sortBy))e.Sort=G.sortBy;else{e.Sort=[G.sortBy]}}if(G.params){e=$.extend(e,G.params)}var r=j;var i=this;var a={cache:false,type:G.method,contentType:H,url:G.url,data:e,dataType:r,success:function(t){E=false;if(t.Error)Q.notifyError(t.Error.Message||t.Error.Code);else Ye(t);B.notify(this)},error:function(t,e,n){E=false;if((t.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var r=$.parseJSON(t.responseText);if(r!=null&&r.Error!=null){Q.notifyError(r.Error.Message||r.Error.Code);D.notify(ne());B.notify(this);return}}F=t.errormsg;D.notify(ne());B.notify(this)},complete:function(){E=false}};if(G.onAjaxCall){var o=G.onAjaxCall(this,a);if(o===false){E=false;D.notify(ne());return false}}a.data=$.toJSON(a.data);D.notify(ne());E=$.ajax(a)}function tn(){if(M==0)R=0;M++}function en(){if(M>0){M--;if(M==0&&R>0)Xe()}}G={beginUpdate:W,endUpdate:q,setPagingOptions:ee,getPagingInfo:ne,getRows:$e,getItems:X,setItems:te,setFilter:oe,sort:re,fastSort:ie,reSort:ae,setSummaryOptions:le,getGrandTotals:ue,setGrouping:fe,getGrouping:se,collapseAllGroups:ke,expandAllGroups:Ae,collapseGroup:Oe,expandGroup:Ne,getGroups:De,getIdxById:de,getRowById:pe,getItemById:ve,getItemByIdx:ce,mapRowsToIds:me,mapIdsToRows:he,setRefreshHints:K,setFilterArgs:Z,refresh:Ke,updateItem:ye,insertItem:we,addItem:be,deleteItem:_e,syncGridSelection:Ze,syncGridCellCssStyles:Je,getLength:xe,getItem:Ce,getItemMetadata:Se,onRowCountChanged:O,onRowsChanged:N,onPagingInfoChanged:D,addData:Ye,populate:Xe,populateLock:tn,populateUnlock:en,onDataChanged:L,onDataLoaded:B,onDataLoading:V};i=e.idField||"id";H=e.contentType||"application/json";j=e.dataType||"json";u=e.filter||null;G.params=e.params||{};G.onSubmit=e.onSubmit||null;G.url=e.url||null;G.rowsPerPage=e.rowsPerPage||0;G.seekToPage=e.seekToPage||1;G.onAjaxCall=e.onAjaxCall||null;G.onProcessData=e.onProcessData||null;G.method=e.method||"POST";G.errormsg=G.errormsg||Q.text("Controls.Pager.DefaultLoadError");G.sortBy=e.sortBy||[];G.idField=i;if(e.url&&e.autoLoad){Xe()}return G}return e}();t.RemoteView=e})(Slick||(Slick={}));var Slick;(function(t){var e;(function(t){function e(t){this.field_=t;this.init=function(){this.count_=0;this.nonNullCount_=0;this.sum_=0};this.accumulate=function(t){var e=t[this.field_];this.count_++;if(e!=null&&e!==""&&!isNaN(e)){this.nonNullCount_++;this.sum_+=parseFloat(e)}};this.storeResult=function(t){if(!t.avg){t.avg={}}if(this.nonNullCount_!=0){t.avg[this.field_]=this.sum_/this.nonNullCount_}}}t.Avg=e;function n(t,e){this.field_=t;this.weightedField_=e;this.init=function(){this.sum_=0;this.weightedSum_=0};this.accumulate=function(t){var e=t[this.field_];var n=t[this.weightedField_];if(this.isValid(e)&&this.isValid(n)){this.weightedSum_+=parseFloat(n);this.sum_+=parseFloat(e)*parseFloat(n)}};this.storeResult=function(t){if(!t.avg){t.avg={}}if(this.sum_&&this.weightedSum_){t.avg[this.field_]=this.sum_/this.weightedSum_}};this.isValid=function(t){return t!==null&&t!==""&&!isNaN(t)}}t.WeightedAvg=n;function r(t){this.field_=t;this.init=function(){this.min_=null};this.accumulate=function(t){var e=t[this.field_];if(e!=null&&e!==""&&!isNaN(e)){if(this.min_==null||e<this.min_){this.min_=e}}};this.storeResult=function(t){if(!t.min){t.min={}}t.min[this.field_]=this.min_}}t.Min=r;function i(t){this.field_=t;this.init=function(){this.max_=null};this.accumulate=function(t){var e=t[this.field_];if(e!=null&&e!==""&&!isNaN(e)){if(this.max_==null||e>this.max_){this.max_=e}}};this.storeResult=function(t){if(!t.max){t.max={}}t.max[this.field_]=this.max_}}t.Max=i;function a(t){this.field_=t;this.init=function(){this.sum_=null};this.accumulate=function(t){var e=t[this.field_];if(e!=null&&e!==""&&!isNaN(e)){this.sum_+=parseFloat(e)}};this.storeResult=function(t){if(!t.sum){t.sum={}}t.sum[this.field_]=this.sum_}}t.Sum=a})(e=t.Aggregators||(t.Aggregators={}))})(Slick||(Slick={}));var Q;(function(t){var e;function n(t,n){e.call(this,t,n);this.errorsFor(t).each(function(e,n){if($(t).hasClass("error"))$(n).removeClass("checked");$(n).attr("title",$(n).text())})}function r(){if($.validator.methods["customValidate"]==null){$.validator.addMethod("customValidate",function(t,e){var n=this.optional(e);if(e==null||!!n){return n}var r=$._data(e,"events");if(r){return true}var i=r.customValidate;if(i==null||i.length===0){return true}var a=$(e);for(var o=0;!!(o<i.length);o++){var s=ss.safeCast(i[o].handler,Function);if(s){var l=s(a);if(l!=null){a.data("customValidationMessage",l);return false}}}return true},function(t,e){return $(e).data("customValidationMessage")})}}function i(){r();var i=$.validator;i=i.prototype;e=i.showLabel;i.showLabel=n;$.validator.addMethod("dateQ",function(e,n){return this.optional(n)||t.parseDate(e)!=false});$.validator.addMethod("hourAndMin",function(e,n){return this.optional(n)||!isNaN(t.parseHourAndMin(e))});$.validator.addMethod("dayHourAndMin",function(e,n){return this.optional(n)||!isNaN(t.parseDayHourAndMin(e))});$.validator.addMethod("decimalQ",function(e,n){return this.optional(n)||!isNaN(t.parseDecimal(e))});$.validator.addMethod("integerQ",function(e,n){return this.optional(n)||!isNaN(t.parseInteger(e))});var a=$.validator.methods["email"];$.validator.addMethod("email",function(e,n){if(!t.Config.emailAllowOnlyAscii)return a.call(this,e,n);return this.optional(n)||/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)});$.validator.addMethod("emailMultiple",function(t,e){var n=this.optional(e);if(n)return n;if(t.indexOf(";")>=0)t=t.split(";");else t=t.split(",");for(var r=0;r<t.length;r++){n=$.validator.methods["email"].call(this,t[r],e);if(!n)return n}return n});$.validator.addMethod("anyvalue",function(t,e){return true});var o=$.validator.defaults;o.ignoreTitle=true;o.onchange=function(t){this.element(t)};i.oldinit=i.init;i.init=function(){i.oldinit.call(this);function t(t){if(this.form==null)return;var e=$.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,"");e&&e.settings[n]&&e.settings[n].call(e,this)}function e(e){var n=this[0];if(!$.data(n,"changebound")){$(n).change(t);$.data(n,"changebound",true)}}$(this.currentForm).on(":text, :password, :file, select, textarea","focusin.validate",e)};i.oldfocusInvalid=i.focusInvalid;i.focusInvalid=function(){if(this.settings.abortHandler)this.settings.abortHandler(this);this.oldfocusInvalid.call(this)};i.oldstopRequest=i.focusInvalid;i.stopRequest=function(t,e){var n=this.formSubmitted;this.oldfocusInvalid.call(this,[t,e]);if(!e&&this.pendingRequest==0&&n&&this.settings.abortHandler){this.settings.abortHandler(this)}};i.resetAll=function(){this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)};jQuery(function(){$.extend($.validator.messages,{email:t.text("Validation.Email"),required:t.text("Validation.Required"),minlength:t.text("Validation.MinLength"),maxlength:t.text("Validation.MaxLength"),digits:t.text("Validation.Digits"),range:t.text("Validation.Range"),xss:t.text("Validation.Xss"),dateQ:t.text("Validation.DateInvalid"),decimalQ:t.text("Validation.Decimal"),integerQ:t.text("Validation.Integer"),url:t.text("Validation.Url")})})}function a(t){t.settings.abortHandler=null;t.settings.submitHandler=function(){return false}}t.validatorAbortHandler=a;function o(e){return $.extend({ignore:":hidden",meta:"v",errorClass:"error",errorPlacement:function(t,e){var n=null;var r=e.attr("data-vx-id");if(r){n=$("#"+r);if(!n.length)n=null;else n=n[0]}if(n==null){n=e.parents("div.field");if(n.length){var i=$("div.vx",n[0]);if(i.length)n=i[0]}else n=e.parent()}t.appendTo(n)},submitHandler:function(){return false},invalidHandler:function(){t.notifyError(t.text("Validation.InvalidFormMessage"))},success:function(t){t.addClass("checked")}},e)}t.validateOptions=o;if(window["jQuery"]&&window["jQuery"]["validator"])i();else if(window["jQuery"]){jQuery(function(t){if(t.validator)i()})}function s(){var e=t.Culture.dateOrder;var n=t.Culture.dateSeparator;var r=($("html").attr("lang")||"en").toLowerCase();if(!$.datepicker.regional[r]){r=r.split("-")[0];if(!$.datepicker.regional[r]){r="en"}}$.datepicker.setDefaults($.datepicker.regional["en"]);$.datepicker.setDefaults($.datepicker.regional[r]);$.datepicker.setDefaults({dateFormat:e=="mdy"?"mm"+n+"dd"+n+"yy":e=="ymd"?"yy"+n+"mm"+n+"dd":"dd"+n+"mm"+n+"yy",buttonImage:t.resolveUrl("~/content/serenity/images/datepicker.png"),buttonImageOnly:true,showOn:"both",showButtonPanel:true,changeMonth:true,changeYear:true})}if(window["jQuery"]&&window["jQuery"]["datepicker"]&&window["jQuery"]["datepicker"]["regional"]&&window["jQuery"]["datepicker"]["regional"]["en"]){s()}else{jQuery(function(t){if(t.datepicker)s()})}function l(){$.ui.dialog.prototype._allowInteraction=function(t){if($(t.target).closest(".ui-dialog").length){return true}return!!$(t.target).closest(".ui-datepicker, .select2-drop, .cke, .cke_dialog, #support-modal").length}}if(window["jQuery"]&&window["jQuery"]["ui"]){l()}else{jQuery(function(t){if(window["jQuery"]["ui"])l()})}function u(){ss.Exception.prototype.toString=function(){return this.get_message()}}if(ss&&ss.Exception)u();else{jQuery(function(t){if(ss&&ss.Exception)u()})}})(Q||(Q={}));